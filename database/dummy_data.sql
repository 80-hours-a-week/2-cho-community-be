USE community_service;

-- 유저 생성
-- 비밀번호 규칙: 8~20자, 대문자/소문자/숫자/특수문자 각 1개 이상 포함
-- 닉네임 규칙: 10자 이내, 띄어쓰기 불가
-- 테스트용 비밀번호: Test1234!
INSERT INTO
    user (
        email,
        nickname,
        password,
        profile_img
    )
VALUES (
        'admin@test.com',
        '관리자',
        'Test1234!',
        'https://placehold.co/100'
    ),
    (
        'dev@test.com',
        '김개발',
        'Test1234!',
        'https://placehold.co/100'
    ),
    (
        'design@test.com',
        '이디자인',
        'Test1234!',
        'https://placehold.co/100'
    ),
    (
        'newbie@test.com',
        '코린이',
        'Test1234!',
        NULL
    ),
    (
        'guest@test.com',
        '눈팅러',
        'Test1234!',
        NULL
    );

-- 게시글 생성 (인피니티 스크롤 테스트를 위해 15개 이상 생성)
-- 제목: 최대 26글자
-- 조회수: 1k/10k/100k 포맷팅 테스트를 위해 다양한 값 포함
INSERT INTO
    post (
        title,
        content,
        image_url,
        author_id,
        views
    )
VALUES (
        '커뮤니티 오픈합니다!',
        '안녕하세요! 아무 말 대잔치 커뮤니티가 오픈했습니다. 자유롭게 이야기를 나눠주세요.',
        'https://placehold.co/600x400',
        1,
        150000
    ),
    (
        'FastAPI 질문있어요',
        'FastAPI로 백엔드 개발 중인데 정말 편리하네요. 혹시 추천하시는 강의 있나요?',
        NULL,
        2,
        12500
    ),
    (
        '점심 메뉴 추천 해주세요',
        '오늘 점심 뭐 먹을지 고민입니다. 추천 부탁드려요!',
        NULL,
        3,
        1500
    ),
    (
        'DB 설계가 정말 어렵네요',
        'MySQL로 데이터베이스 설계 중인데 정규화가 어렵습니다.',
        'https://placehold.co/600x400',
        4,
        890
    ),
    (
        '주말이 순삭했어요',
        '벌써 월요일이라니... 시간이 너무 빨리 가요.',
        NULL,
        2,
        2300
    ),
    (
        '코딩 공부 방법 공유합니다',
        '저는 매일 알고리즘 문제를 1개씩 풀고 있어요. 꾸준히 하니까 실력이 늘더라구요.',
        NULL,
        5,
        4500
    ),
    (
        '오늘 날씨가 정말 좋네요',
        '산책하기 딱 좋은 날씨입니다. 다들 잠깐이라도 밖에 나가보세요!',
        'https://placehold.co/600x400',
        3,
        780
    ),
    (
        '새로운 프로젝트 시작했어요',
        'React와 FastAPI를 활용한 풀스택 프로젝트를 시작했습니다.',
        NULL,
        2,
        3200
    ),
    (
        '커피 추천 부탁드려요',
        '아메리카노만 마시다가 다른 커피도 마셔보고 싶어요. 추천해주세요!',
        NULL,
        4,
        1100
    ),
    (
        '개발자 취업 준비 중입니다',
        '신입 개발자 취업 준비 중인데 포트폴리오 어떻게 준비하면 좋을까요?',
        NULL,
        5,
        8900
    ),
    (
        'Python vs JavaScript',
        '두 언어 중 어떤 걸 먼저 배우면 좋을까요? 의견 부탁드립니다.',
        NULL,
        2,
        15600
    ),
    (
        '운동 루틴 공유합니다',
        '개발자는 건강도 중요하죠! 저는 매일 30분씩 홈트레이닝 합니다.',
        'https://placehold.co/600x400',
        3,
        2100
    ),
    (
        '좋은 책 추천해주세요',
        '개발 서적이나 자기계발 서적 추천 부탁드려요.',
        NULL,
        1,
        1800
    ),
    (
        '첫 게시글 작성합니다',
        '안녕하세요! 가입하고 첫 글 남깁니다. 잘 부탁드려요.',
        NULL,
        4,
        320
    ),
    (
        '개발 환경 세팅 질문이요',
        'VSCode 확장 프로그램 추천 부탁드립니다!',
        NULL,
        5,
        950
    );

-- 댓글 생성 (1k 포맷팅 테스트를 위해 다수의 댓글 생성은 어려우므로 적절히 분배)
INSERT INTO
    comment (content, author_id, post_id)
VALUES (
        '환영합니다! 좋은 커뮤니티가 되길 바랍니다.',
        2,
        1
    ),
    ('저도 환영해요!', 3, 1),
    ('오픈 축하드려요!', 4, 1),
    ('좋은 정보 감사합니다.', 5, 1),
    ('저도 FastAPI 공부 중이에요!', 1, 2),
    ('인프런에 좋은 강의 있어요.', 3, 2),
    ('유데미도 추천합니다.', 4, 2),
    ('돈까스 어떠세요?', 2, 3),
    ('제육볶음도 좋아요!', 4, 3),
    ('저도 DB 설계 어려워요ㅠㅠ', 2, 4),
    ('정규화 강의 보시면 도움 될 거예요.', 5, 4),
    ('공감합니다...', 1, 5),
    ('월요일은 항상 힘들어요.', 3, 5),
    ('좋은 습관이네요!', 1, 6),
    ('저도 따라해봐야겠어요.', 2, 6),
    ('화창한 날씨 좋아요!', 4, 7),
    ('풀스택 화이팅!', 5, 8),
    ('라떼 추천해요!', 2, 9),
    ('포트폴리오 중요하죠.', 1, 10),
    ('둘 다 배우세요!', 3, 11),
    ('건강이 최고죠!', 1, 12),
    ('클린 코드 추천합니다.', 2, 13),
    ('환영합니다!', 1, 14),
    ('Prettier 추천해요!', 2, 15);

-- 좋아요 생성 (1k/10k 포맷팅 테스트를 위해 특정 게시글에 많은 좋아요 필요하지만 유저 수 제한으로 분배)
INSERT INTO
    post_like (user_id, post_id)
VALUES (2, 1),
    (3, 1),
    (4, 1),
    (5, 1),
    (1, 2),
    (3, 2),
    (4, 2),
    (1, 3),
    (2, 3),
    (1, 4),
    (3, 5),
    (4, 5),
    (1, 6),
    (2, 6),
    (3, 6),
    (1, 10),
    (2, 10),
    (3, 10),
    (4, 10),
    (1, 11),
    (3, 11),
    (5, 11);

-- 조회 기록 생성
INSERT INTO
    post_view_log (user_id, post_id, created_at)
VALUES (2, 1, NOW()),
    (3, 1, NOW()),
    (4, 1, NOW()),
    (5, 1, NOW()),
    (1, 2, NOW()),
    (3, 2, NOW()),
    (1, 3, NOW()),
    (2, 4, NOW()),
    (3, 5, NOW()),
    (1, 6, NOW()),
    (2, 7, NOW()),
    (1, 10, NOW()),
    (2, 11, NOW()),
    (3, 11, NOW());